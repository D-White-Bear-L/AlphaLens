# AlphaLens - æ–°é—»å…³ç³»æº¯æºå’Œé‡‘èé‡åŒ–åˆ†æ Agent å¹³å°

<div align="center">

<img src="doc/logo.jpg" alt="AlphaLens Logo" width="200">

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-green.svg)](https://fastapi.tiangolo.com/)
[![Vue](https://img.shields.io/badge/Vue-3.5-4FC08D.svg)](https://vuejs.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„æ™ºèƒ½ Agent å¹³å°ï¼Œé›†æˆæ–°é—»æº¯æºå’Œé‡‘èé‡åŒ–åˆ†æä¸¤å¤§æ ¸å¿ƒæ¨¡å—ã€‚


</div>

---

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [API æ–‡æ¡£](#api-æ–‡æ¡£)
- [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#è®¸å¯è¯)

---

## é¡¹ç›®ç®€ä»‹

AlphaLens æ˜¯ä¸€ä¸ªåŸºäº LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰çš„æ™ºèƒ½ Agent å¹³å°ï¼Œæä¾›ä¸¤å¤§æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼š

### ğŸ” æ–°é—»æº¯æºæ¨¡å— (News Trace Agent)

é€šè¿‡å¤šè½®è¿­ä»£çš„æ·±åº¦æœç´¢å’Œå†…å®¹æå–ï¼Œè‡ªåŠ¨è¿½è¸ªæ–°é—»æ¥æºã€æ„å»ºæ—¶é—´çº¿ã€åˆ†æå› æœå…³ç³»ï¼Œå¹¶ç”ŸæˆçŸ¥è¯†å›¾è°±ã€‚æ”¯æŒ 1-4 çº§å¯é…ç½®æº¯æºæ·±åº¦ï¼Œä½¿ç”¨ Playwright å¤„ç†åŠ¨æ€ç½‘é¡µï¼Œæå–å®Œæ•´å†…å®¹ã€‚

### ğŸ’° é‡‘èé‡åŒ–æ¨¡å— (Financial Agent)

ç»“åˆä¼ ç»Ÿé‡åŒ–åˆ†ææŠ€æœ¯ä¸ç°ä»£ AI èƒ½åŠ›ï¼Œæä¾›è‚¡ç¥¨åˆ†æã€äº¤æ˜“ä¿¡å·ç”Ÿæˆã€ç­–ç•¥å›æµ‹å’Œæœºå™¨å­¦ä¹ ä»·æ ¼é¢„æµ‹åŠŸèƒ½ã€‚æ”¯æŒå¤šç§æŠ€æœ¯æŒ‡æ ‡ï¼ˆMAã€RSIã€MACDã€Bollinger Bandsï¼‰å’Œäº¤æ˜“ç­–ç•¥ã€‚

---

## æ ¸å¿ƒç‰¹æ€§

### æ–°é—»æº¯æºæ¨¡å—

- ğŸ” **æ·±åº¦æº¯æº**: é€šè¿‡å¤šè½®è¿­ä»£æœç´¢å’Œå†…å®¹æå–ï¼Œæ·±å…¥è¿½è¸ªæ–°é—»æ¥æº
- ğŸ“Š **ç»“æ„åŒ–åˆ†æ**: è‡ªåŠ¨æå–æ—¶é—´çº¿ã€å› æœå…³ç³»ã€çŸ¥è¯†å›¾è°±ç­‰å¤šç»´åº¦ä¿¡æ¯
- ğŸ•·ï¸ **æ™ºèƒ½çˆ¬è™«**: ä½¿ç”¨ Playwright å¤„ç†åŠ¨æ€ç½‘é¡µï¼Œæå–å®Œæ•´å†…å®¹
- ğŸ¯ **å¯é…ç½®æ·±åº¦**: æ”¯æŒ 1-4 çº§æº¯æºæ·±åº¦æ§åˆ¶ï¼Œå¹³è¡¡é€Ÿåº¦ä¸å‡†ç¡®æ€§
- ğŸ“ˆ **å¯è§†åŒ–å±•ç¤º**: å‰ç«¯æä¾›çŸ¥è¯†å›¾è°±ã€å±‚çº§å›¾ã€æ—¶é—´çº¿ç­‰ä¸°å¯Œçš„å¯è§†åŒ–
- âš¡ **å¼‚æ­¥ä»»åŠ¡**: æ”¯æŒé•¿æ—¶é—´è¿è¡Œçš„å¼‚æ­¥ä»»åŠ¡ï¼Œå®æ—¶è¿›åº¦æ›´æ–°ï¼Œå¯éšæ—¶å–æ¶ˆ

### é‡‘èé‡åŒ–æ¨¡å—

- ğŸ¤– **AI é©±åŠ¨çš„åˆ†æ**: ä½¿ç”¨ LLM ç”Ÿæˆä¸“ä¸šçš„æŠ•èµ„å»ºè®®å’Œé£é™©è¯„ä¼°
- ğŸ“Š **å¤šç»´åº¦æŠ€æœ¯åˆ†æ**: æ”¯æŒ MAã€RSIã€MACDã€Bollinger Bands ç­‰å¤šç§æŠ€æœ¯æŒ‡æ ‡
- ğŸ¯ **åŠ¨æ€ä¿¡å·å¼ºåº¦**: åŸºäºæŒ‡æ ‡åç¦»åº¦ã€è¶‹åŠ¿ä¸€è‡´æ€§ç­‰åŠ¨æ€è®¡ç®—ä¿¡å·å¼ºåº¦
- ğŸ”„ **ç­–ç•¥å›æµ‹å¼•æ“**: æ”¯æŒå¤šç§äº¤æ˜“ç­–ç•¥çš„å†å²å›æµ‹ï¼ˆsignal_basedã€ma_crossã€rsiã€macdï¼‰
- ğŸ“ˆ **è‚¡ç¥¨æ¨èç³»ç»Ÿ**: åŸºäºå¤šå› å­è¯„åˆ†æ¨¡å‹çš„æ™ºèƒ½è‚¡ç¥¨æ¨è
- ğŸ§  **æœºå™¨å­¦ä¹ é¢„æµ‹**: ä½¿ç”¨å¤šç§ ML æ¨¡å‹é¢„æµ‹è‚¡ç¥¨æœªæ¥ä»·æ ¼èµ°åŠ¿ï¼Œæä¾›ç½®ä¿¡åŒºé—´

---

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å‰ç«¯ (Vue 3)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ChatView    â”‚  â”‚ NewsTrace    â”‚  â”‚ Financial    â”‚  â”‚
â”‚  â”‚  (å¯¹è¯ç•Œé¢)   â”‚  â”‚  Result      â”‚  â”‚  Result      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                 â”‚                 â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ HTTP/REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åç«¯ (FastAPI)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              API Routes                          â”‚   â”‚
â”‚  â”‚  - /trace/* (æ–°é—»æº¯æºæ¥å£)                        â”‚   â”‚
â”‚  â”‚  - /api/v1/financial/* (é‡‘èåˆ†ææ¥å£)            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                     â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          Agent Layer                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚  â”‚  â”‚NewsTraceAgentâ”‚      â”‚FinancialAgentâ”‚          â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚  â”‚         â”‚                      â”‚                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚  â”‚  â”‚   Tools       â”‚      â”‚   Modules     â”‚          â”‚   â”‚
â”‚  â”‚  â”‚-GoogleSearch  â”‚      â”‚-StrategyBacktestâ”‚        â”‚   â”‚
â”‚  â”‚  â”‚-WebScraper   â”‚      â”‚-StockPredictionâ”‚         â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **FastAPI** | >=0.104.0 | å¼‚æ­¥ Web æ¡†æ¶ï¼Œæä¾› RESTful API |
| **mira** | latest | LLM å·¥å…·è°ƒç”¨æ¡†æ¶ï¼Œæ”¯æŒç»“æ„åŒ–è¾“å‡º |
| **Playwright** | >=1.40.0 | æ— å¤´æµè§ˆå™¨ï¼Œå¤„ç†åŠ¨æ€ç½‘é¡µçˆ¬å– |
| **Pydantic** | >=2.0.0 | æ•°æ®éªŒè¯å’Œç»“æ„åŒ–è¾“å‡ºæ¨¡å‹ |
| **pandas** | - | æ•°æ®å¤„ç†å’Œåˆ†æ |
| **numpy** | - | æ•°å€¼è®¡ç®— |
| **akshare** | - | è‚¡ç¥¨æ•°æ®è·å– |
| **scikit-learn** | - | æœºå™¨å­¦ä¹ æ¨¡å‹ |
| **httpx** | >=0.24.0 | å¼‚æ­¥ HTTP å®¢æˆ·ç«¯ |
| **loguru** | >=0.7.0 | ç»“æ„åŒ–æ—¥å¿—è®°å½• |

### å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **Vue 3** | ^3.5.24 | æ¸è¿›å¼å‰ç«¯æ¡†æ¶ |
| **Element Plus** | ^2.12.0 | Vue 3 UI ç»„ä»¶åº“ |
| **Vite** | ^7.2.4 | å¿«é€Ÿæ„å»ºå·¥å…· |
| **vis.js** | - | çŸ¥è¯†å›¾è°±å’Œå±‚çº§å›¾å¯è§†åŒ– |
| **axios** | ^1.13.2 | HTTP å®¢æˆ·ç«¯ |
| **vue-router** | ^4.6.4 | è·¯ç”±ç®¡ç† |

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- Node.js 16+
- Playwright (å®‰è£…åéœ€è¦è¿è¡Œ `playwright install`)

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/ai-agent-platform.git
cd ai-agent-platform
```

### 2. åç«¯è®¾ç½®

#### å®‰è£…ä¾èµ–

```bash
cd backend
pip install -r requirements.txt

# å®‰è£… Playwright æµè§ˆå™¨
playwright install chromium
```

#### é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# LLM é…ç½®
API_KEY=your_api_key
BASE_URL=https://ark.cn-beijing.volces.com/api/v3
MODEL=doubao/ep-20250615233434-wps9w

# Serper API (Google æœç´¢ï¼Œæ–°é—»æº¯æºæ¨¡å—éœ€è¦)
SERPER_API_KEY=your_serper_api_key

# æ•°æ®åº“ (å¯é€‰)
DATABASE_URL=sqlite:///./news_trace.db
```

#### å¯åŠ¨æœåŠ¡

```bash
python run.py
# æˆ–
uvicorn app.main:app --reload --port 8000
```

åç«¯æœåŠ¡å°†åœ¨ `http://localhost:8000` å¯åŠ¨ã€‚

### 3. å‰ç«¯è®¾ç½®

#### å®‰è£…ä¾èµ–

```bash
cd frontend/new_trace_frontend
npm install
```

#### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

å‰ç«¯åº”ç”¨å°†åœ¨ `http://localhost:5173` å¯åŠ¨ã€‚

### 4. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:5173`ï¼Œå³å¯å¼€å§‹ä½¿ç”¨ã€‚

---

## é¡¹ç›®ç»“æ„

```
AlphaLens/
â”œâ”€â”€ backend/                          # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ agent/                    # Agent æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ news_trace_agent.py  # æ–°é—»æº¯æº Agent
â”‚   â”‚   â”‚   â”œâ”€â”€ financial_agent.py   # é‡‘èåˆ†æ Agent
â”‚   â”‚   â”‚   â”œâ”€â”€ strategy_backtest.py # ç­–ç•¥å›æµ‹å¼•æ“
â”‚   â”‚   â”‚   â””â”€â”€ stock_prediction.py  # è‚¡ç¥¨é¢„æµ‹å¼•æ“
â”‚   â”‚   â”œâ”€â”€ api/                      # API è·¯ç”±
â”‚   â”‚   â”‚   â””â”€â”€ routes.py
â”‚   â”‚   â”œâ”€â”€ tools/                    # å·¥å…·æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ google_search.py     # Google æœç´¢å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ web_scraper.py       # ç½‘é¡µçˆ¬è™«å·¥å…·
â”‚   â”‚   â”‚   â””â”€â”€ database_search.py   # æ•°æ®åº“æœç´¢å·¥å…·
â”‚   â”‚   â”œâ”€â”€ models.py                # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ config.py                # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ main.py                  # FastAPI åº”ç”¨å…¥å£
â”‚   â”‚   â””â”€â”€ database.py             # æ•°æ®åº“è¿æ¥
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ run.py                       # å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ frontend/                         # å‰ç«¯åº”ç”¨
â”‚   â””â”€â”€ new_trace_frontend/
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ views/               # é¡µé¢è§†å›¾
â”‚       â”‚   â”‚   â”œâ”€â”€ Chat/           # èŠå¤©ç•Œé¢
â”‚       â”‚   â”‚   â””â”€â”€ newTrace/       # æ–°é—»æº¯æºè§†å›¾
â”‚       â”‚   â”œâ”€â”€ components/         # ç»„ä»¶
â”‚       â”‚   â”‚   â”œâ”€â”€ NewsTraceResult.vue    # æº¯æºç»“æœå±•ç¤º
â”‚       â”‚   â”‚   â”œâ”€â”€ FinancialResult.vue     # é‡‘èåˆ†æç»“æœ
â”‚       â”‚   â”‚   â”œâ”€â”€ BacktestResult.vue     # å›æµ‹ç»“æœ
â”‚       â”‚   â”‚   â””â”€â”€ PredictionResult.vue   # é¢„æµ‹ç»“æœ
â”‚       â”‚   â”œâ”€â”€ api/                # API è°ƒç”¨
â”‚       â”‚   â”‚   â””â”€â”€ agent.js
â”‚       â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ vite.config.js
â”‚
â”œâ”€â”€ NEW_TRACE_AGENT_README.md        # æ–°é—»æº¯æºæ¨¡å—è¯¦ç»†æ–‡æ¡£
â”œâ”€â”€ FINANCIAL_AGENT_README.md        # é‡‘èé‡åŒ–æ¨¡å—è¯¦ç»†æ–‡æ¡£
â””â”€â”€ README.md                        # æœ¬æ–‡ä»¶
```

---

## API æ–‡æ¡£

### æ–°é—»æº¯æº API

#### åˆ›å»ºæº¯æºä»»åŠ¡

```http
POST /trace/async
Content-Type: application/json

{
  "claim": "æŸç§‘æŠ€å…¬å¸å®£å¸ƒè·å¾—æ–°ä¸€è½®èèµ„",
  "max_depth": 2
}
```

**å“åº”**:

```json
{
  "task_id": "uuid-string",
  "status": "pending"
}
```

#### æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€

```http
GET /trace/status/{task_id}
```

#### å–æ¶ˆä»»åŠ¡

```http
POST /trace/cancel/{task_id}
```

### é‡‘èåˆ†æ API

#### è‚¡ç¥¨åˆ†æ

```http
POST /api/v1/financial/analyze
Content-Type: application/json

{
  "stock_code": "000001",
  "start_date": "20240101",
  "end_date": "20241226"
}
```

#### ç­–ç•¥å›æµ‹

```http
POST /api/v1/financial/backtest
Content-Type: application/json

{
  "stock_code": "000001",
  "start_date": "20240101",
  "end_date": "20241226",
  "strategy_type": "signal_based",
  "initial_capital": 100000.0,
  "shares_per_trade": 100,
  "min_signal_strength": 0.5
}
```

#### è‚¡ç¥¨ä»·æ ¼é¢„æµ‹

```http
POST /api/v1/financial/predict
Content-Type: application/json

{
  "stock_code": "000001",
  "start_date": "20240101",
  "end_date": "20241226",
  "prediction_days": 5,
  "model_type": "ensemble",
  "use_technical_indicators": true
}
```

#### è‚¡ç¥¨æ¨è

```http
POST /api/v1/financial/recommend
Content-Type: application/json

{
  "max_stocks": 10,
  "start_date": "20240101",
  "end_date": "20241226"
}
```

### API æ–‡æ¡£è®¿é—®

å¯åŠ¨åç«¯æœåŠ¡åï¼Œè®¿é—®ä»¥ä¸‹åœ°å€æŸ¥çœ‹å®Œæ•´çš„ API æ–‡æ¡£ï¼š

- Swagger UI: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`

---

## ä½¿ç”¨ç¤ºä¾‹

### æ–°é—»æº¯æºç¤ºä¾‹

```python
from app.agent.news_trace_agent import NewsTraceAgent

agent = NewsTraceAgent()

# æ‰§è¡Œæº¯æº
result = await agent.trace_news(
    claim="æŸç§‘æŠ€å…¬å¸å®£å¸ƒè·å¾—æ–°ä¸€è½®èèµ„",
    max_iterations=6
)

# æŸ¥çœ‹æ¥æº
for source in result.sources:
    print(f"{source.title}: {source.url}")

# æŸ¥çœ‹æ—¶é—´çº¿
for event in result.timeline:
    print(f"{event.date}: {event.event}")
```

### é‡‘èåˆ†æç¤ºä¾‹

```python
from app.agent.financial_agent import FinancialAgent

agent = FinancialAgent()

# åˆ†æè‚¡ç¥¨
result = await agent.analyze_stock(
    stock_code="000001",
    start_date="20240101",
    end_date="20241226"
)

# æŸ¥çœ‹äº¤æ˜“ä¿¡å·
for signal in result.trading_signals:
    print(f"{signal.signal_type}: {signal.signal_reason} (å¼ºåº¦: {signal.signal_strength:.2f})")

# æŸ¥çœ‹ LLM ç”Ÿæˆçš„è¯„ä¼°
print(result.overall_assessment)
```

### ç­–ç•¥å›æµ‹ç¤ºä¾‹

```python
from app.agent.strategy_backtest import StrategyBacktest
from app.models import BacktestRequest

backtest = StrategyBacktest()

request = BacktestRequest(
    stock_code="000001",
    start_date="20240101",
    end_date="20241226",
    strategy_type="ma_cross",
    initial_capital=100000.0,
    shares_per_trade=100,
    min_signal_strength=0.5
)

result = await backtest.backtest_ma_cross_strategy(request)

print(f"æ€»æ”¶ç›Šç‡: {result.metrics.total_return_rate:.2f}%")
print(f"èƒœç‡: {result.metrics.win_rate:.2%}")
print(f"æœ€å¤§å›æ’¤: {result.metrics.max_drawdown:.2f}%")
```

### è‚¡ç¥¨é¢„æµ‹ç¤ºä¾‹

```python
from app.agent.stock_prediction import StockPrediction
from app.models import PredictionRequest

prediction = StockPrediction()

request = PredictionRequest(
    stock_code="000001",
    start_date="20240101",
    end_date="20241226",
    prediction_days=5,
    model_type="ensemble",
    use_technical_indicators=True
)

result = await prediction.predict_stock_price(request)

for pred in result.predictions:
    print(f"{pred.date}: é¢„æµ‹ä»·æ ¼ {pred.predicted_price:.2f} "
          f"(ç½®ä¿¡åŒºé—´: {pred.confidence_interval_lower:.2f} - {pred.confidence_interval_upper:.2f})")
```

---

## å¼€å‘æŒ‡å—

### åç«¯å¼€å‘

1. **ä»£ç é£æ ¼**: éµå¾ª PEP 8 Python ä»£ç è§„èŒƒ
2. **ç±»å‹æç¤º**: ä½¿ç”¨ç±»å‹æç¤ºæé«˜ä»£ç å¯è¯»æ€§
3. **å¼‚æ­¥ç¼–ç¨‹**: ä¼˜å…ˆä½¿ç”¨ `async/await` å¤„ç† IO æ“ä½œ
4. **é”™è¯¯å¤„ç†**: ä½¿ç”¨ `try-except` å’Œ `loguru` è®°å½•é”™è¯¯æ—¥å¿—

### å‰ç«¯å¼€å‘

1. **ç»„ä»¶åŒ–**: ä½¿ç”¨ Vue 3 Composition API (`<script setup>`)
2. **å“åº”å¼è®¾è®¡**: ä½¿ç”¨ `ref` å’Œ `computed` ç®¡ç†çŠ¶æ€
3. **ä»£ç è§„èŒƒ**: éµå¾ª Vue 3 å®˜æ–¹é£æ ¼æŒ‡å—

### æµ‹è¯•

```bash
# åç«¯æµ‹è¯•
cd backend
pytest

# å‰ç«¯æµ‹è¯•
cd frontend/new_trace_frontend
npm run test
```

---

## è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. **Fork æœ¬ä»“åº“**
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯** (`git checkout -b feature/AmazingFeature`)
3. **æäº¤æ›´æ”¹** (`git commit -m 'Add some AmazingFeature'`)
4. **æ¨é€åˆ°åˆ†æ”¯** (`git push origin feature/AmazingFeature`)
5. **å¼€å¯ Pull Request**

### è´¡çŒ®ç±»å‹

- ğŸ› Bug ä¿®å¤
- âœ¨ æ–°åŠŸèƒ½
- ğŸ“ æ–‡æ¡£æ”¹è¿›
- ğŸ¨ UI/UX æ”¹è¿›
- âš¡ æ€§èƒ½ä¼˜åŒ–
- ğŸ”§ ä»£ç é‡æ„

### ä»£ç æäº¤è§„èŒƒ

è¯·éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: ä»£ç é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·ç›¸å…³

---

## æŠ€æœ¯äº®ç‚¹

### æ–°é—»æº¯æºæ¨¡å—

- **å¤šè½®è¿­ä»£**: é€šè¿‡ `max_iterations` æ§åˆ¶è¿­ä»£æ¬¡æ•°ï¼Œæ¯æ¬¡è¿­ä»£ LLM å¯ä»¥è°ƒç”¨å¤šä¸ªå·¥å…·
- **åŠ¨æ€ç½‘é¡µå¤„ç†**: Playwright å¯ä»¥å¤„ç† JavaScript æ¸²æŸ“çš„é¡µé¢
- **æ™ºèƒ½å†…å®¹æå–**: è‡ªåŠ¨è¯†åˆ«æ–‡ç« ä¸»å†…å®¹ï¼Œè¿‡æ»¤æ— å…³ä¿¡æ¯
- **ç»“æ„åŒ–è¾“å‡º**: ä½¿ç”¨ Pydantic å’Œ LLMJson å®ç°å¼ºç±»å‹ç»“æ„åŒ–è¾“å‡º

### é‡‘èé‡åŒ–æ¨¡å—

- **åŠ¨æ€ä¿¡å·å¼ºåº¦**: åŸºäºæŒ‡æ ‡åç¦»åº¦åŠ¨æ€è®¡ç®—ä¿¡å·å¼ºåº¦ï¼Œè€Œéç¡¬ç¼–ç 
- **å¤šç­–ç•¥å›æµ‹**: æ”¯æŒ signal_basedã€ma_crossã€rsiã€macd å››ç§ç­–ç•¥
- **æœºå™¨å­¦ä¹ é¢„æµ‹**: å¤šç»´åº¦ç‰¹å¾å·¥ç¨‹ï¼Œæ”¯æŒå¤šç§ ML æ¨¡å‹
- **AI é©±åŠ¨åˆ†æ**: LLM ç”Ÿæˆä¸“ä¸šçš„æŠ•èµ„å»ºè®®å’Œé£é™©è¯„ä¼°

---

## æœªæ¥è§„åˆ’

### æ–°é—»æº¯æºæ¨¡å—

- [ ] æ”¯æŒæ›´å¤šæ•°æ®æºï¼ˆTwitterã€Reddit ç­‰ï¼‰
- [ ] å®ç°æ›´æ™ºèƒ½çš„å†…å®¹å»é‡
- [ ] æ·»åŠ æ¥æºæƒå¨æ€§è¯„åˆ†
- [ ] æ”¯æŒæ‰¹é‡æº¯æºä»»åŠ¡
- [ ] æ·»åŠ å¯¼å‡ºåŠŸèƒ½ï¼ˆPDFã€JSONï¼‰

### é‡‘èé‡åŒ–æ¨¡å—

- [ ] æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼ˆLSTM/GRUã€Transformerï¼‰
- [ ] æ›´å¤šäº¤æ˜“ç­–ç•¥ï¼ˆç½‘æ ¼äº¤æ˜“ã€åŠ¨é‡ç­–ç•¥ç­‰ï¼‰
- [ ] å®æ—¶æ•°æ®æµå¤„ç†
- [ ] å¤šè‚¡ç¥¨ç»„åˆåˆ†æ
- [ ] è¶…å‚æ•°è‡ªåŠ¨è°ƒä¼˜

---

## å¸¸è§é—®é¢˜ (FAQ)

### Q: å¦‚ä½•è·å– Serper API Keyï¼Ÿ

A: è®¿é—® [Serper.dev](https://serper.dev/) æ³¨å†Œè´¦å·å¹¶è·å– API Keyã€‚

### Q: æ”¯æŒå“ªäº› LLM æä¾›å•†ï¼Ÿ

A: é€šè¿‡ `mira` åº“æ”¯æŒæ‰€æœ‰ OpenRouter å…¼å®¹çš„ LLM æä¾›å•†ï¼ŒåŒ…æ‹¬ OpenAIã€Anthropic ç­‰ã€‚

### Q: å¦‚ä½•ä¿®æ”¹æº¯æºæ·±åº¦ï¼Ÿ

A: åœ¨åˆ›å»ºæº¯æºä»»åŠ¡æ—¶ï¼Œè®¾ç½® `max_depth` å‚æ•°ï¼ˆ1-4ï¼‰ï¼Œå¯¹åº”ä¸åŒçš„è¿­ä»£æ¬¡æ•°ã€‚

### Q: é‡‘èåˆ†ææ”¯æŒå“ªäº›è‚¡ç¥¨å¸‚åœºï¼Ÿ

A: ç›®å‰æ”¯æŒ A è‚¡å¸‚åœºï¼Œé€šè¿‡ `akshare` è·å–æ•°æ®ã€‚è‚¡ç¥¨ä»£ç æ ¼å¼ä¸º 6 ä½æ•°å­—ï¼ˆå¦‚ "000001"ï¼‰ã€‚

---

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) è®¸å¯è¯ã€‚

---

## è‡´è°¢

- [FastAPI](https://fastapi.tiangolo.com/) - ç°ä»£åŒ–çš„ Python Web æ¡†æ¶
- [Vue.js](https://vuejs.org/) - æ¸è¿›å¼ JavaScript æ¡†æ¶
- [mira](https://github.com/mira-project/mira) - LLM å·¥å…·è°ƒç”¨æ¡†æ¶
- [Playwright](https://playwright.dev/) - æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·
- [akshare](https://akshare.readthedocs.io/) - é‡‘èæ•°æ®æ¥å£åº“

---

## è”ç³»æ–¹å¼

- **Issues**: [GitHub Issues](https://github.com/D-White-Bear-L/AlphaLens/issues)
- **Discussions**: [GitHub Discussions](https://github.com/D-White-Bear-L/AlphaLens/discussions)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª â­ Starï¼**

Made with â¤ï¸ by the AI Agent Platform Team

</div>

